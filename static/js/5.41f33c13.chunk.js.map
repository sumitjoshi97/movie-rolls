{"version":3,"sources":["../node_modules/react-router/es/generatePath.js","../node_modules/react-router/es/Redirect.js","../node_modules/react-router-dom/es/Redirect.js","components/AuthForm/index.jsx","views/Auth/index.jsx","components/Layout/index.jsx"],"names":["patternCache","cacheCount","es_generatePath","pattern","arguments","length","undefined","params","cacheKey","cache","compiledGenerator","path_to_regexp_default","a","compile","generatePath_compileGenerator","generator","pretty","_extends","Object","assign","target","i","source","key","prototype","hasOwnProperty","call","Redirect_Redirect","_React$Component","Redirect","instance","Constructor","TypeError","_classCallCheck","this","self","ReferenceError","_possibleConstructorReturn","apply","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","isStatic","context","router","staticContext","componentWillMount","browser_default","perform","componentDidMount","componentDidUpdate","prevProps","prevTo","history_es","to","nextTo","props","warning_default","pathname","search","computeTo","_ref","computedMatch","history","push","replace","render","react_default","Component","propTypes","prop_types_default","object","bool","from","string","oneOfType","isRequired","defaultProps","contextTypes","shape","func","react_router_dom_es_Redirect","AuthForm","state","email","password","active","redirect","handleInput","e","_this","setState","defineProperty","name","handleActiveAuth","authWithEmailPassword","_callee","_this$state","_this$props","signupUser","loginUserWithEmail","fetchUser","regenerator_default","wrap","_context","prev","next","preventDefault","stop","createElement","className","type","placeholder","onChange","onClick","loginUserWithSocial","connect","dispatch","actions","Auth","isRedirect","isAuth","redirectPath","components_AuthForm","auth","userId","Layout","Switch","Route","exact","path","component"],"mappings":"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","file":"static/js/5.41f33c13.chunk.js","sourcesContent":["import pathToRegexp from \"path-to-regexp\";\nvar patternCache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nvar compileGenerator = function compileGenerator(pattern) {\n  var cacheKey = pattern;\n  var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n  if (cache[pattern]) return cache[pattern];\n  var compiledGenerator = pathToRegexp.compile(pattern);\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledGenerator;\n    cacheCount++;\n  }\n\n  return compiledGenerator;\n};\n/**\n * Public API for generating a URL pathname from a pattern and parameters.\n */\n\n\nvar generatePath = function generatePath() {\n  var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (pattern === \"/\") {\n    return pattern;\n  }\n\n  var generator = compileGenerator(pattern);\n  return generator(params, {\n    pretty: true\n  });\n};\n\nexport default generatePath;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport warning from \"warning\";\nimport invariant from \"invariant\";\nimport { createLocation, locationsAreEqual } from \"history\";\nimport generatePath from \"./generatePath\";\n/**\n * The public API for updating the location programmatically\n * with a component.\n */\n\nvar Redirect = function (_React$Component) {\n  _inherits(Redirect, _React$Component);\n\n  function Redirect() {\n    _classCallCheck(this, Redirect);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Redirect.prototype.isStatic = function isStatic() {\n    return this.context.router && this.context.router.staticContext;\n  };\n\n  Redirect.prototype.componentWillMount = function componentWillMount() {\n    invariant(this.context.router, \"You should not use <Redirect> outside a <Router>\");\n    if (this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidMount = function componentDidMount() {\n    if (!this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var prevTo = createLocation(prevProps.to);\n    var nextTo = createLocation(this.props.to);\n\n    if (locationsAreEqual(prevTo, nextTo)) {\n      warning(false, \"You tried to redirect to the same route you're currently on: \" + (\"\\\"\" + nextTo.pathname + nextTo.search + \"\\\"\"));\n      return;\n    }\n\n    this.perform();\n  };\n\n  Redirect.prototype.computeTo = function computeTo(_ref) {\n    var computedMatch = _ref.computedMatch,\n        to = _ref.to;\n\n    if (computedMatch) {\n      if (typeof to === \"string\") {\n        return generatePath(to, computedMatch.params);\n      } else {\n        return _extends({}, to, {\n          pathname: generatePath(to.pathname, computedMatch.params)\n        });\n      }\n    }\n\n    return to;\n  };\n\n  Redirect.prototype.perform = function perform() {\n    var history = this.context.router.history;\n    var push = this.props.push;\n    var to = this.computeTo(this.props);\n\n    if (push) {\n      history.push(to);\n    } else {\n      history.replace(to);\n    }\n  };\n\n  Redirect.prototype.render = function render() {\n    return null;\n  };\n\n  return Redirect;\n}(React.Component);\n\nRedirect.propTypes = {\n  computedMatch: PropTypes.object,\n  // private, from <Switch>\n  push: PropTypes.bool,\n  from: PropTypes.string,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nRedirect.defaultProps = {\n  push: false\n};\nRedirect.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired\n    }).isRequired,\n    staticContext: PropTypes.object\n  }).isRequired\n};\nexport default Redirect;","// Written in this round about way for babel-transform-imports\nimport Redirect from \"react-router/es/Redirect\";\nexport default Redirect;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport * as actions from '../../actions'\r\n\r\nimport './styles.scss'\r\n\r\nclass AuthForm extends Component {\r\n  static propTypes = {\r\n    signupUser: PropTypes.func,\r\n    loginUserWithEmail: PropTypes.func,\r\n    loginUserWithSocial: PropTypes.func,\r\n    fetchUser: PropTypes.func\r\n  }\r\n\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    active: 'login',\r\n    redirect: false\r\n  }\r\n\r\n  handleInput = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  handleActiveAuth = () => {\r\n    const { active } = this.state\r\n    if (active === 'login') {\r\n      this.setState({\r\n        active: 'signup'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        active: 'login'\r\n      })\r\n    }\r\n  }\r\n\r\n  authWithEmailPassword = async e => {\r\n    e.preventDefault()\r\n    const { email, password, active } = this.state\r\n    const { signupUser, loginUserWithEmail, fetchUser } = this.props\r\n\r\n    if (active === 'login') {\r\n      await loginUserWithEmail(email, password)\r\n      await fetchUser()\r\n    } else {\r\n      await signupUser(email, password)\r\n      await fetchUser()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { active } = this.state\r\n    return (\r\n      <div className='auth-form'>\r\n        <div className='auth-form__header'>\r\n          <h3>{active === 'login' ? 'Log in' : 'Sign up'} to see more</h3>\r\n        </div>\r\n\r\n        <form className='auth-form__form'>\r\n          <input\r\n            type='email'\r\n            name='email'\r\n            className='auth-form__form__input'\r\n            placeholder='Email address'\r\n            value={this.state.email}\r\n            onChange={this.handleInput}\r\n          />\r\n\r\n          <input\r\n            type='password'\r\n            name='password'\r\n            className='auth-form__form__input'\r\n            placeholder='Password'\r\n            value={this.state.password}\r\n            onChange={this.handleInput}\r\n          />\r\n\r\n          <input\r\n            type='submit'\r\n            className='auth-form__form__submit action-btn'\r\n            value={active === 'login' ? 'Log in' : 'Sign up'}\r\n            onClick={this.authWithEmailPassword}\r\n          />\r\n        </form>\r\n\r\n        <span>Or</span>\r\n\r\n        <div className='auth-form__social-btns'>\r\n          <button\r\n            className='auth-form__social-btns__google action-btn'\r\n            onClick={this.props.loginUserWithSocial}\r\n          >\r\n            Continue with Google\r\n          </button>\r\n        </div>\r\n\r\n        <button className='auth-form__active' onClick={this.handleActiveAuth}>\r\n          {active === 'login'\r\n            ? 'Not on Movie Rolls? Sign up'\r\n            : 'Already a member? Login'}\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  signupUser: (email, password) =>\r\n    dispatch(actions.createUser(email, password)),\r\n\r\n  loginUserWithEmail: (email, password) =>\r\n    dispatch(actions.loginUserWithEmailPassword(email, password)),\r\n\r\n  loginUserWithSocial: () => dispatch(actions.loginUserWithSocial()),\r\n\r\n  fetchUser: () => dispatch(actions.fetchUser())\r\n})\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(AuthForm)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport AuthForm from '../../components/AuthForm'\r\n\r\nimport './styles.scss'\r\n\r\nclass Auth extends Component {\r\n  static propTypes = {\r\n    isAuth: PropTypes.string,\r\n    redirectPath: PropTypes.string\r\n  }\r\n\r\n  render() {\r\n    const isRedirect = this.props.isAuth ? (\r\n      <Redirect to={this.props.redirectPath} />\r\n    ) : null\r\n\r\n    return (\r\n      <div className='auth'>\r\n        <div className='auth__logo'>movie rolls</div>\r\n\r\n        {isRedirect}\r\n        <AuthForm />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.userId,\r\n  redirectPath: state.auth.redirectPath\r\n})\r\n\r\nexport default connect(mapStateToProps)(Auth)\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\n\r\nimport Auth from '../../views/Auth'\r\n\r\nexport default class Layout extends Component {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path='/auth' component={Auth} />\r\n      </Switch>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}